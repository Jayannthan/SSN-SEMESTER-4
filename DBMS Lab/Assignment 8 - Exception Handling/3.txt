old:DECLARE
    RNO_INPUT ITEM_LIST.RNO%TYPE;
    CURSOR ITEM_LIST_CURSOR IS SELECT * FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    ITEM_LIST_ROW ITEM_LIST_CURSOR%ROWTYPE;

BEGIN
    RNO_INPUT:='&RECEIPT_NO_INPUT';
    OPEN ITEM_LIST_CURSOR;
    FETCH ITEM_LIST_CURSOR INTO ITEM_LIST_ROW;
    CLOSE ITEM_LIST_CURSOR;
    SELECT * INTO ITEM_LIST_ROW FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS EXACTLY ONE ITEM');
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('NO ORDER WITH THE GIVEN RECEIPT '||RNO_INPUT);
    WHEN TOO_MANY_ROWS THEN
        DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS MORE THAN ONE ITEM');
END;

new:DECLARE
    RNO_INPUT ITEM_LIST.RNO%TYPE;
    CURSOR ITEM_LIST_CURSOR IS SELECT * FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    ITEM_LIST_ROW ITEM_LIST_CURSOR%ROWTYPE;

BEGIN
    RNO_INPUT:='11111';
    OPEN ITEM_LIST_CURSOR;
    FETCH ITEM_LIST_CURSOR INTO ITEM_LIST_ROW;
    CLOSE ITEM_LIST_CURSOR;
    SELECT * INTO ITEM_LIST_ROW FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS EXACTLY ONE ITEM');
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('NO ORDER WITH THE GIVEN RECEIPT '||RNO_INPUT);
    WHEN TOO_MANY_ROWS THEN
        DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS MORE THAN ONE ITEM');
END;
NO ORDER WITH THE GIVEN RECEIPT 11111


PL/SQL procedure successfully completed.

no rows selected

Error starting at line : 30 in command -
select rno, count(rno) from item_list 
Error at Command Line : 30 Column : 8
Error report -
SQL Error: ORA-00937: not a single-group group function
00937. 00000 -  "not a single-group group function"
*Cause:    
*Action:

       RNO COUNT(RNO)
---------- ----------
     84665          1
     48332          2
     44798          5
     36343          4
     99994          4
     11923          1
     85881          1
     89937          4
     66227          4
     60240          2
     38157          4

       RNO COUNT(RNO)
---------- ----------
     64301          3
     92252          5
     18951          1
     96258          4
     72207          2
     72949          5
     89182          5
     68753          5
     39217          4
     45062          2
     37586          1

       RNO COUNT(RNO)
---------- ----------
     64574          3
     12396          5
     98806          4
     44590          5
     31233          4
     34378          2
     83085          5
     70723          1
     42166          1
     64451          4
     96619          1

       RNO COUNT(RNO)
---------- ----------
     86678          2
     49854          2
     82056          4
     48981          2
     66704          3
     11891          3
     96430          1
     53376          5
     60469          1
     68199          2
     42162          1

       RNO COUNT(RNO)
---------- ----------
     64477          5
     35073          2
     62707          4
     39575          1
     74741          3
     96402          3
     17729          5
     17947          1
     67946          4
     11548          2
     29908          5

       RNO COUNT(RNO)
---------- ----------
     18129          1
     13355          3
     55944          5
     16034          5
     25906          1
     21040          3
     32565          3
     44330          2
     36423          1
     21622          1
     33456          2

       RNO COUNT(RNO)
---------- ----------
     26240          1
     12698          3
     26148          4
     67314          4
     39605          1
     39685          4
     61378          2
     81517          2
     89638          4
     46248          1
     17685          4

       RNO COUNT(RNO)
---------- ----------
     39109          2
     43103          1
     43752          1
     47353          4
     87454          2
     41064          3
     20913          3
     65165          4
     75468          3
     91192          3
     56724          1

       RNO COUNT(RNO)
---------- ----------
     37636          3
     79287          5
     94371          1
     26741          2
     37540          2
     61797          5
     45976          2
     88626          1
     96761          4
     86162          5
     50660          2

       RNO COUNT(RNO)
---------- ----------
     84258          2
     20411          2
     55494          2
     12800          4
     32701          3
     33060          3
     39829          1
     35904          2
     46014          5
     46876          2
     24829          1

       RNO COUNT(RNO)
---------- ----------
     53240          2
     46674          1
     51991          4
     73716          4
     35011          1
     21545          5
     54935          2
     82795          1
     70796          4
     63998          1
     76951          1

       RNO COUNT(RNO)
---------- ----------
     85858          3
     10013          1
     45873          1
     13496          4
     73438          2
     70655          4
     19002          2
     42833          3
     86861          4
     96531          4
     34910          4

       RNO COUNT(RNO)
---------- ----------
     18567          2
     28117          3
     70162          4
     76663          2
     61008          2
     49845          4
     74952          3
     95514          4
     15904          1
     17488          1
     41963          2

       RNO COUNT(RNO)
---------- ----------
     41028          1
     76667          2
     60270          2
     91937          2
     25121          3
     46598          3
     86085          4
     24200          1
     26198          5
     78179          5
     64553          4

       RNO COUNT(RNO)
---------- ----------
     57784          1
     81368          2
     31874          3
     65091          1
     53922          4
     99058          5
     77032          4
     15286          3
     58770          4
     27741          3
     56365          1

       RNO COUNT(RNO)
---------- ----------
     27192          3
     59716          5
     52369          2
     52013          4
     15584          1
     75526          1
     78187          2
     49977          4
     38849          5
     37063          3
     40305          2

       RNO COUNT(RNO)
---------- ----------
     23034          2
     79296          5
     85492          4
     61948          4
     89588          1
     97097          1
     50512          1
     16532          4
     52761          5
     99002          2
     95962          4

       RNO COUNT(RNO)
---------- ----------
     21162          3
     77406          5
     29226          5
     83437          2
     64861          2
     55690          3
     73437          1
     68890          1
     19258          1
     59774          3
     48647          3

       RNO COUNT(RNO)
---------- ----------
     34579          4
     20127          2

200 rows selected. 


Error starting at line : 30 in command -
select rno, count(rno) from item_list GROUP BY rno order by COUNT
Error at Command Line : 30 Column : 61
Error report -
SQL Error: ORA-00904: "COUNT": invalid identifier
00904. 00000 -  "%s: invalid identifier"
*Cause:    
*Action:

       RNO COUNT(RNO)
---------- ----------
     84665          1
     19258          1
     85881          1
     18951          1
     37586          1
     70723          1
     42166          1
     96619          1
     96430          1
     60469          1
     42162          1

       RNO COUNT(RNO)
---------- ----------
     39575          1
     17947          1
     18129          1
     25906          1
     36423          1
     21622          1
     26240          1
     39605          1
     46248          1
     43103          1
     43752          1

       RNO COUNT(RNO)
---------- ----------
     56724          1
     94371          1
     88626          1
     39829          1
     24829          1
     46674          1
     35011          1
     82795          1
     63998          1
     76951          1
     10013          1

       RNO COUNT(RNO)
---------- ----------
     45873          1
     15904          1
     17488          1
     41028          1
     24200          1
     57784          1
     65091          1
     56365          1
     15584          1
     75526          1
     89588          1

       RNO COUNT(RNO)
---------- ----------
     97097          1
     50512          1
     73437          1
     68890          1
     11923          1
     48332          2
     60240          2
     72207          2
     45062          2
     34378          2
     86678          2

       RNO COUNT(RNO)
---------- ----------
     49854          2
     48981          2
     68199          2
     35073          2
     11548          2
     44330          2
     33456          2
     61378          2
     81517          2
     39109          2
     87454          2

       RNO COUNT(RNO)
---------- ----------
     26741          2
     37540          2
     45976          2
     50660          2
     84258          2
     20411          2
     55494          2
     35904          2
     46876          2
     53240          2
     54935          2

       RNO COUNT(RNO)
---------- ----------
     73438          2
     19002          2
     18567          2
     76663          2
     61008          2
     41963          2
     76667          2
     60270          2
     91937          2
     81368          2
     52369          2

       RNO COUNT(RNO)
---------- ----------
     78187          2
     40305          2
     23034          2
     99002          2
     83437          2
     64861          2
     20127          2
     64301          3
     64574          3
     66704          3
     11891          3

       RNO COUNT(RNO)
---------- ----------
     74741          3
     96402          3
     13355          3
     21040          3
     32565          3
     12698          3
     41064          3
     20913          3
     75468          3
     91192          3
     37636          3

       RNO COUNT(RNO)
---------- ----------
     32701          3
     33060          3
     85858          3
     42833          3
     28117          3
     74952          3
     25121          3
     46598          3
     31874          3
     15286          3
     27741          3

       RNO COUNT(RNO)
---------- ----------
     27192          3
     37063          3
     21162          3
     55690          3
     59774          3
     48647          3
     36343          4
     99994          4
     89937          4
     66227          4
     38157          4

       RNO COUNT(RNO)
---------- ----------
     96258          4
     39217          4
     98806          4
     31233          4
     64451          4
     82056          4
     62707          4
     67946          4
     26148          4
     67314          4
     39685          4

       RNO COUNT(RNO)
---------- ----------
     89638          4
     17685          4
     47353          4
     65165          4
     96761          4
     12800          4
     51991          4
     73716          4
     70796          4
     13496          4
     70655          4

       RNO COUNT(RNO)
---------- ----------
     86861          4
     96531          4
     34910          4
     70162          4
     49845          4
     95514          4
     86085          4
     64553          4
     53922          4
     77032          4
     58770          4

       RNO COUNT(RNO)
---------- ----------
     52013          4
     49977          4
     85492          4
     61948          4
     16532          4
     95962          4
     34579          4
     44798          5
     92252          5
     72949          5
     89182          5

       RNO COUNT(RNO)
---------- ----------
     68753          5
     12396          5
     44590          5
     83085          5
     53376          5
     64477          5
     17729          5
     29908          5
     55944          5
     16034          5
     79287          5

       RNO COUNT(RNO)
---------- ----------
     61797          5
     86162          5
     46014          5
     21545          5
     26198          5
     78179          5
     99058          5
     59716          5
     38849          5
     79296          5
     52761          5

       RNO COUNT(RNO)
---------- ----------
     77406          5
     29226          5

200 rows selected. 

old:DECLARE
    RNO_INPUT ITEM_LIST.RNO%TYPE;
    CURSOR ITEM_LIST_CURSOR IS SELECT * FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    ITEM_LIST_ROW ITEM_LIST_CURSOR%ROWTYPE;

BEGIN
    RNO_INPUT:='&RECEIPT_NO_INPUT';
    OPEN ITEM_LIST_CURSOR;
    FETCH ITEM_LIST_CURSOR INTO ITEM_LIST_ROW;
    CLOSE ITEM_LIST_CURSOR;
    SELECT * INTO ITEM_LIST_ROW FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS EXACTLY ONE ITEM');
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('NO ORDER WITH THE GIVEN RECEIPT '||RNO_INPUT);
    WHEN TOO_MANY_ROWS THEN
        DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS MORE THAN ONE ITEM');
END;

new:DECLARE
    RNO_INPUT ITEM_LIST.RNO%TYPE;
    CURSOR ITEM_LIST_CURSOR IS SELECT * FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    ITEM_LIST_ROW ITEM_LIST_CURSOR%ROWTYPE;

BEGIN
    RNO_INPUT:='85858';
    OPEN ITEM_LIST_CURSOR;
    FETCH ITEM_LIST_CURSOR INTO ITEM_LIST_ROW;
    CLOSE ITEM_LIST_CURSOR;
    SELECT * INTO ITEM_LIST_ROW FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS EXACTLY ONE ITEM');
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('NO ORDER WITH THE GIVEN RECEIPT '||RNO_INPUT);
    WHEN TOO_MANY_ROWS THEN
        DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS MORE THAN ONE ITEM');
END;
THE GIVEN RECEIPT 85858 CONTAINS MORE THAN ONE ITEM


PL/SQL procedure successfully completed.


       RNO    ORDINAL ITEM           
---------- ---------- ---------------
     85858          1 20-CA-7.5      
     85858          2 70-M-VA-SM-DZ  
     85858          3 51-BLU         

