old:DECLARE
    RNO_INPUT ITEM_LIST.RNO%TYPE;
    CURSOR ITEM_LIST_CURSOR IS SELECT * FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    ITEM_LIST_ROW ITEM_LIST_CURSOR%ROWTYPE;

BEGIN
    RNO_INPUT:='&RECEIPT_NO_INPUT';
    OPEN ITEM_LIST_CURSOR;
    FETCH ITEM_LIST_CURSOR INTO ITEM_LIST_ROW;
    CLOSE ITEM_LIST_CURSOR;
    SELECT * INTO ITEM_LIST_ROW FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS EXACTLY ONE ITEM');
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('NO ORDER WITH THE GIVEN RECEIPT '||RNO_INPUT);
    WHEN TOO_MANY_ROWS THEN
        DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS MORE THAN ONE ITEM');
END;

new:DECLARE
    RNO_INPUT ITEM_LIST.RNO%TYPE;
    CURSOR ITEM_LIST_CURSOR IS SELECT * FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    ITEM_LIST_ROW ITEM_LIST_CURSOR%ROWTYPE;

BEGIN
    RNO_INPUT:='18129';
    OPEN ITEM_LIST_CURSOR;
    FETCH ITEM_LIST_CURSOR INTO ITEM_LIST_ROW;
    CLOSE ITEM_LIST_CURSOR;
    SELECT * INTO ITEM_LIST_ROW FROM ITEM_LIST WHERE RNO=RNO_INPUT;
    DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS EXACTLY ONE ITEM');
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('NO ORDER WITH THE GIVEN RECEIPT '||RNO_INPUT);
    WHEN TOO_MANY_ROWS THEN
        DBMS_OUTPUT.PUT_LINE('THE GIVEN RECEIPT '||RNO_INPUT||' CONTAINS MORE THAN ONE ITEM');
END;
THE GIVEN RECEIPT 18129 CONTAINS EXACTLY ONE ITEM


PL/SQL procedure successfully completed.


       RNO    ORDINAL ITEM           
---------- ---------- ---------------
     18129          1 70-TU          

